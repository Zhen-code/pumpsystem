import{u as w,c as z,i as k,b as F,_ as T}from"./index-c50b965b.js";import{v as E,b as H,A as P,B as R,C as p,D as m,I as g,E as l,J as U,K as D,u as i,F as G,G as _,H as c,c as b,N as I,L as W,M as B}from"./elementPlus-6c9be200.js";import{u as J}from"./useloadMore-8820c711.js";import"./vendor-4e24d706.js";import"./pdfjs-b8a46cda.js";import"./three-93381d5b.js";import"./echarts-bc975ae1.js";const o=n=>(W("data-v-f08aeba7"),n=n(),B(),n),K={class:"container-box"},M=o(()=>l("div",{class:"status-title"},[l("span",{class:"status-text"},"\u6C34\u7BB1\u6DB2\u4F4D\u91CF\u7A0B")],-1)),N=o(()=>l("div",{class:"status-title"},[l("span",{class:"status-text"},"\u544A\u8B66\u65E5\u5FD7")],-1)),j={class:"scroll-item scroll-header"},O=o(()=>l("span",null,"\u5E8F\u53F7",-1)),Q=o(()=>l("span",null,"\u544A\u8B66\u65F6\u95F4",-1)),V=o(()=>l("span",null,"\u544A\u8B66\u8BBE\u5907",-1)),X=o(()=>l("span",null,"\u91CF\u7A0B",-1)),Y={class:"loading"},Z={class:"scroll-container"},$={name:"WaterSupplyRight"},aa=E({...$,setup(n){const u=w(),t=H({series4:[{data:[],type:"bar",barWidth:10,itemStyle:{borderRadius:2,color:a=>(a==null?void 0:a.name)==="0"?{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#267bca"},{offset:1,color:"#01e4fe"}],global:!1}:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#ca2626"},{offset:1,color:"#fe1301"}],global:!1}}}],option4:{grid:{bottom:"25%",top:"10%",right:"0%",left:"15%"},xAxis:{type:"category",boundaryGap:!0,data:["\u6C34\u7BB11","\u6C34\u7BB12"],axisTick:{show:!1},axisLabel:{color:"#CCFCFD",fontSize:14}},yAxis:{type:"value",splitLine:{lineStyle:{color:"#3A5158"}},axisLabel:{color:"#CCFCFD"}},tooltip:{trigger:"axis"}},liquidAlarmList:[],tempLiquidAlarmList:[]}),{isLoading:v,handleScroll:ea,items:ta}=J(),{page:sa,pageSize:d,currentPage:r,small:A,background:f,disabled:x,total:ia,handleSizeChange:y}=z();function h(){k({url:"/liquidLevelAlarmList",method:"GET"}).then(a=>{a.code===200&&a.data.liquidLevelHighAlert instanceof Array&&a.data.liquidLevelLowAlert instanceof Array&&(t.liquidAlarmList=[...a.data.liquidLevelHighAlert.map(e=>(e.alert=e.alarm==="TRUE"?"\u9AD8":"",e)),...a.data.liquidLevelLowAlert.map(e=>(e.alert=e.alarm==="TRUE"?"\u4F4E":"",e))],t.tempLiquidAlarmList=t.liquidAlarmList.slice(0,10))}).catch(a=>{})}function q(){t.tempLiquidAlarmList=t.liquidAlarmList.slice((r.value-1)*10,r.value*d.value)}return P(()=>{console.log(u.waterboxList),u.waterboxList instanceof Array&&(t.option4.xAxis.data=u.waterboxList.map(a=>"\u6C34\u7BB1"+a.id),t.series4[0].data=u.waterboxList.map(a=>({value:a.liquidLevel*1,name:a.liquidLevelHighAlert+a.liquidLevelLowAlert+""})))}),R(()=>{h()}),(a,e)=>{const C=F,S=I;return p(),m("div",K,[M,g(C,{class:"chart-line",series:t.series4,option:t.option4},null,8,["series","option"]),N,l("div",j,[O,Q,V,X,U(l("div",Y,null,512),[[D,i(v)]])]),l("div",Z,[(p(!0),m(G,null,_(t.tempLiquidAlarmList,(s,L)=>(p(),m("div",{key:L,class:"scroll-item"},[l("span",null,c(L+1),1),l("span",null,c(s.dataTime),1),l("span",null,c(s.name),1),l("span",null,c(s.alert),1)]))),128))]),g(S,{class:"pagination-box",currentPage:i(r),"onUpdate:currentPage":e[0]||(e[0]=s=>b(r)?r.value=s:null),"page-size":i(d),"onUpdate:pageSize":e[1]||(e[1]=s=>b(d)?d.value=s:null),layout:"total,prev, pager, next",small:i(A),disabled:i(x),background:i(f),total:t.liquidAlarmList.length,onSizeChange:i(y),onCurrentChange:q},null,8,["currentPage","page-size","small","disabled","background","total","onSizeChange"])])}}}),la=T(aa,[["__scopeId","data-v-f08aeba7"]]);export{la as default};
